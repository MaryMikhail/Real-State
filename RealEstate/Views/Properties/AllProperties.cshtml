@model IEnumerable<RealEstate.Models.Property>

@{
    ViewData["Title"] = "My Properties";
}

<div class="col-lg-4 col-xl-4 mb10 m-3" >
    <div class="breadcrumb_content style2 mb30-991">
        <h2 class="breadcrumb_title">All Properties</h2>
        <p>We are glad to see you again!</p>
    </div>
</div>

<div class="col-lg-12">
    <div class="my_dashboard_review mb40">
        <div class="property_table">
            <div class="table-responsive mt0">
                <table class="table">
                    <thead class="thead-light">
                        <tr>
                            <th scope="col">Listing Title</th>
                            <th scope="col">Date published</th>
                            <th scope="col">Status</th>
                            <th scope="col">View</th>
                            <th scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                        <tr>
                            <th scope="row">
                                <div class="feat_property list favorite_page style2">
                                    <div class="thumb">
                                        @foreach (var image in ViewBag.Images)
                                        {
                                            @if (item.PropertyID == image.PropertyID)
                                            {
                                                <img class="img-whp" src="~/images/property/@image.ImgData" alt="@image.ImgData">
                                            }
                                        }
                                            <div class="thmb_cntnt">
                                                <ul class="tag mb0">
                                                    <li class="list-inline-item dn"></li>
                                                    <li class="list-inline-item"><a asp-action="Details" asp-route-id="@item.PropertyID" asp-controller="Properties">@item.PropertyType</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    <div class="details">
                                        <div class="tc_content">
                                            <a asp-action="Details" asp-route-id="@item.PropertyID" asp-controller="Properties"><h4>@item.Title</h4></a>
                                            <p><span class="flaticon-placeholder"></span> @item.Address</p>
                                            <a class="fp_price text-thm" href="#">@item.Price</a>
                                        </div>
                                    </div>
                                </div>
                            </th>
                            <td>@item.YearBuilt</td>
                            @if (@item.PropertyStatus.ToString() == "ForSale")
                            {
                                <td><span class="status_tag btn btn-danger">@item.PropertyStatus</span></td>
                            }
                            @if (@item.PropertyStatus.ToString() == "ForRent")
                            {
                                <td><span class="status_tag btn btn-success">@item.PropertyStatus</span></td>
                            }
                            @if (@item.PropertyStatus.ToString() == "Saled")
                            {
                                <td><span class="status_tag btn btn-info">@item.PropertyStatus</span></td>
                            }
                            @if (@item.PropertyStatus.ToString() == "Rented")
                            {
                                <td><span class="status_tag btn btn-warning">@item.PropertyStatus</span></td>
                            }
                            <td>@item.AreaSize</td>
                            <td>
                                <ul class="view_edit_delete_list mb0">
                                    <li class="list-inline-item" data-toggle="tooltip" data-placement="top" title="Edit"><a asp-action="Edit" asp-controller="Properties" asp-route-id="@item.PropertyID"><span class="flaticon-edit"></span></a></li>
                                    <li class="list-inline-item" data-toggle="tooltip" data-placement="top" title="Delete"><a asp-action="Delete" asp-controller="Properties" asp-route-id="@item.PropertyID"><span class="flaticon-garbage"></span></a></li>
                                </ul>
                            </td>
                        </tr>
                        }
                        </tbody>
                </table>
            </div>
            @* Start Pagination *@
            <div class="mbp_pagination">
                <ul class="page_navigation">
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1" aria-disabled="true"> <span class="flaticon-left-arrow"></span> Prev</a>
                    </li>
                    <li class="page-item"><a class="page-link" href="#">1</a></li>
                    <li class="page-item active" aria-current="page">
                        <a class="page-link" href="#">2 <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item"><a class="page-link" href="#">...</a></li>
                    <li class="page-item"><a class="page-link" href="#">29</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#"><span class="flaticon-right-arrow"></span></a>
                    </li>
                </ul>
            </div>
            @* End Pagination *@
        </div>
    </div>
</div>

